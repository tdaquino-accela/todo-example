<aside
  class="flex flex-col p-4 h-screen bg-gray-50 dark:bg-indigo-950 border-r border-indigo-200 dark:border-indigo-700 overflow-y-auto transition-all duration-300 overflow-hidden"
  [ngClass]="sidebarOpen() ? 'w-80' : 'w-20'"
>
  <div
    class="flex items-center justify-between mb-6 pb-4 border-b border-indigo-200 dark:border-indigo-500"
  >
    <h2
      class="text-xl font-semibold text-gray-900 dark:text-white whitespace-nowrap flex-1"
      [ngClass]="{ hidden: !sidebarOpen() }"
    >
      Todo App
    </h2>
    <button mat-icon-button (click)="toggleSidebar()" class="flex-shrink-0">
      <mat-icon class="text-white">{{ sidebarOpen() ? 'menu_open' : 'menu' }}</mat-icon>
    </button>
  </div>

  <nav class="m-0 p-0">
    <ul class="list-none m-0 p-0 space-y-2">
      @for (item of navigationItems; track item.route) {
      <li>
        <button
          mat-button
          class="w-full flex items-center justify-start gap-4 px-4 py-3 rounded-lg text-gray-900 dark:text-gray-100 transition-all duration-200 hover:bg-blue-100 dark:hover:bg-blue-900 hover:text-blue-600 dark:hover:text-blue-400"
          [ngClass]="{ 'justify-center': !sidebarOpen() }"
          [routerLink]="item.route"
          routerLinkActive="bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 font-semibold"
        >
          <mat-icon class="flex items-center justify-center w-6 h-6 flex-shrink-0">{{
            item.icon
          }}</mat-icon>
          <span
            class="flex-1 text-sm whitespace-nowrap overflow-hidden text-ellipsis"
            [ngClass]="{ hidden: !sidebarOpen() }"
          >
            {{ item.label }}
          </span>
        </button>
      </li>
      }
    </ul>
  </nav>

  <!-- Divider -->
  <div class="border-t border-gray-200 dark:border-gray-700 my-2"></div>
</aside>
